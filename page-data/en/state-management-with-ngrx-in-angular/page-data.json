{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/en/state-management-with-ngrx-in-angular","result":{"data":{"allGithubData":{"nodes":[{"data":{"viewer":{"avatarUrl":"https://avatars.githubusercontent.com/u/19237948?u=05c87da55840481725a97a153f1380f2acf98dea&v=4","email":"dinhhai281@gmail.com","name":"Hai Nguyen","login":"dinhhai281"}}}]},"markdownRemark":{"html":"<p>State Management hay quản lý state là một khái niệm khá phổ biến ở React và Angular cũng đã có một sự giao lưu tuyệt vời với nó qua NgRx - Reactive State for Angular. Bài viết này mình sẽ chia sẽ về cách tổ chức state của mình khi sử dụng NgRx.</p>\n<h1>State là gì?</h1>\n<p>Với những ai đã từng sử dụng qua React thì state và props là 2 khái niệm đã quá quen thuộc, nhưng nếu bạn chỉ biết đến Angular thì có thể sẽ không biết đến nó dù bạn vẫn dùng nó mỗi ngày.</p>\n<p><strong>State:</strong> Là những thứ được quản lý bên trong component ví dụ bạn có một property để lưu lại một giá trị thì nó có thể được gọi là state. Trong React mỗi khi state thay đổi thì component sẽ re-render. Còn trong Angular thì tuỳ trường hợp mà có thể khi bạn thay đổi state thì component sẽ không re-render. Đề có được cơ chế re-render tương tự trong Angular thì thay vì sử dụng dùng một biến kiểu string để lưu một chuỗi và mutate nó mỗi khi cần thay đổi thì hãy dùng BehaviorSubject và next giá trị mới khi cần thay đổi và async pipe để hiển thị giá trị đó ra ngoài.</p>\n<p>Việc có thể sử dụng RxJS để tạo ra \"State\" đã làm cho sự khác biệt về React và Angular không còn quá lớn. Rất nhiều những kỹ thuật được dùng trong React có thể được áp dụng trong Angular và ngược lại. Trong đó <strong>Flux Architect</strong> là một trong những thứ rất đáng học hỏi để tạo ra những web application có khả năng scale tốt hơn.</p>\n<h1>NgRx - Reactive State cho Angular</h1>\n<p><code class=\"language-text\">Redux</code> là một state management library cực kỳ phổ biến trong cộng đồng React cho việc quản lý state theo Flux Architect và <code class=\"language-text\">NgRx</code> được truyền cảm hứng dựa trên Redux để giải quyết vấn đề tương tự cho Angular.</p>\n<p>So với Redux thì có thể nói NgRx hoàn thiện hơn rất nhiều và đúng với phong cách của Angular nó có đầy đủ các món ăn chơi để có thể giải quyết mọi vấn đề mà một developer phải đối mặt khi sử dụng state management library.</p>\n<p>Khác với Redux, để sử dụng tốt NgRx thì phải có một sự hiểu biết tương đối về Reactive Programming vì state trong NgRx là Reactive State - <strong>Everything is stream</strong> -</p>\n<p><strong>Giới thiệu vậy thôi chứ bài viết này không nhằm mục đích hướng dẫn sử dụng NgRx nên sẽ không hướng dẫn xài cái này đâu nha.</strong></p>\n<h1>Store module</h1>\n<p>Việc sử dụng NgRx không có nghĩa là sẽ bỏ qua hoàn toàn local state, chỉ những thứ cần thiết mới nên được lưu trên store. Store này mình thường tách thành một module riêng trong đó sẽ có nhiều store feature module.</p>\n<p>Store module này sẽ được import vào AppModule, đồng nghĩa mình sẽ không lazy load store module này. Store module với toàn bộ state sẽ được load ngay từ đầu cho dù có thể feature sử dụng nó có lazy load đi nữa.</p>\n<p>Tất nhiên nếu bundle size là một trong những yếu tố quan trọng với project của bạn thì cái store feature module cũng có thể được lazy load nhưng hãy chú ý về những gì store feature module đó có nhé.</p>\n<p>Trong Store module này thường sẽ không có gì cả, đây chỉ là nơi để setup NgRx và import các store feature module.</p>\n<h2>store/store.module.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CommonModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NgModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> EffectsModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  declarations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    CommonModule<span class=\"token punctuation\">,</span>\n    StoreModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        runtimeChecks<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          strictActionImmutability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictStateSerializability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictActionSerializability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictStateImmutability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictActionTypeUniqueness<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    EffectsModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    environment<span class=\"token punctuation\">.</span>storeInstrument<span class=\"token punctuation\">,</span>\n    PostFeatureStoreModule<span class=\"token punctuation\">,</span>\n    AuthFeatureStoreModule<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppStoreModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2>store/reducer.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">State</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Store Feature Module</h1>\n<p>Khi cần quản lý một thứ gì đó bằng store thì hãy tách nó thành một Store Feature Module sau đó import ngược lại vào Store Module. Như vậy sẽ dễ hơn trong việc tổ chức code và những logic về một loại state nào đó sẽ được tách biệt.</p>\n<p>Ví dụ trong app có một feature là login thì hãy tạo một <code class=\"language-text\">AuthFeatureStoreModule</code>, trong đó có đầy đủ các action, reducer, selector, effects để bạn có thể xử lý mọi logic có thể xảy ra với việc login.</p>\n<p><strong>store/auth/auth.reducer.ts</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> User <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@app/models'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Action<span class=\"token punctuation\">,</span> createReducer<span class=\"token punctuation\">,</span> on <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> login<span class=\"token punctuation\">,</span> loginFailure<span class=\"token punctuation\">,</span> loginSuccess <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.action'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">AUTH_FEATURE_KEY</span> <span class=\"token operator\">=</span> <span class=\"token string\">'auth'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AuthState</span> <span class=\"token punctuation\">{</span>\n  me<span class=\"token operator\">:</span> User<span class=\"token punctuation\">;</span>\n  token<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  loading<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  error<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> initialState<span class=\"token operator\">:</span> AuthState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  me<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n  token<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n  loading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  error<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> _authReducer <span class=\"token operator\">=</span> <span class=\"token function\">createReducer</span><span class=\"token punctuation\">(</span>\n  initialState<span class=\"token punctuation\">,</span>\n  <span class=\"token function\">on</span><span class=\"token punctuation\">(</span>login<span class=\"token punctuation\">,</span> state <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span> loading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">on</span><span class=\"token punctuation\">(</span>loginSuccess<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> token <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span> loading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> token <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">on</span><span class=\"token punctuation\">(</span>loginFailure<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span> loading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">reducer</span><span class=\"token punctuation\">(</span>state<span class=\"token operator\">:</span> AuthState <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> action<span class=\"token operator\">:</span> Action<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">_authReducer</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2>store/auth/auth.action.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> User <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@app/models'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createAction<span class=\"token punctuation\">,</span> props <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> login <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[Auth] Login'</span><span class=\"token punctuation\">,</span> <span class=\"token generic-function\"><span class=\"token function\">props</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> loginSuccess <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">'[Auth] Login__SUCCESS'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token generic-function\"><span class=\"token function\">props</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> User<span class=\"token punctuation\">;</span> token<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> loginFailure <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[Auth] Login__FAILURE'</span><span class=\"token punctuation\">,</span> <span class=\"token generic-function\"><span class=\"token function\">props</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> error<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/auth/auth.selector.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createFeatureSelector<span class=\"token punctuation\">,</span> createSelector <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthState<span class=\"token punctuation\">,</span> <span class=\"token constant\">AUTH_FEATURE_KEY</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.reducer'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> selectAuthState <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createFeatureSelector</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>AuthState<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">AUTH_FEATURE_KEY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectToken <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectAuthState<span class=\"token punctuation\">,</span> state <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectMe <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectAuthState<span class=\"token punctuation\">,</span> state <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>me<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectLoading <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectAuthState<span class=\"token punctuation\">,</span> state <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>loading<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectIsLoggedIn <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>\n  selectToken<span class=\"token punctuation\">,</span>\n  selectLoading<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>token <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>loading<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/auth/auth.effect.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Router <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/router'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@app/services/auth.service'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Actions<span class=\"token punctuation\">,</span> createEffect<span class=\"token punctuation\">,</span> ofType <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">of</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'rxjs'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> catchError<span class=\"token punctuation\">,</span> exhaustMap<span class=\"token punctuation\">,</span> map<span class=\"token punctuation\">,</span> tap <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'rxjs/operators'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> login<span class=\"token punctuation\">,</span> loginFailure<span class=\"token punctuation\">,</span> loginSuccess <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.action'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Injectable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthEffects</span> <span class=\"token punctuation\">{</span>\n  loginEffect$ <span class=\"token operator\">=</span> <span class=\"token function\">createEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>action$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">ofType</span><span class=\"token punctuation\">(</span>login<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">exhaustMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> email<span class=\"token punctuation\">,</span> password <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>authService<span class=\"token punctuation\">.</span><span class=\"token function\">loginWithLocal</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n          <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>response <span class=\"token operator\">=></span> <span class=\"token function\">loginSuccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">,</span> token<span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>token <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token function\">catchError</span><span class=\"token punctuation\">(</span>err <span class=\"token operator\">=></span> <span class=\"token keyword\">of</span><span class=\"token punctuation\">(</span><span class=\"token function\">loginFailure</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> error<span class=\"token operator\">:</span> err <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  loginSuccessEffect$ <span class=\"token operator\">=</span> <span class=\"token function\">createEffect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>action$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">ofType</span><span class=\"token punctuation\">(</span>loginSuccess<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">tap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      dispatch<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> action$<span class=\"token operator\">:</span> Actions<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> authService<span class=\"token operator\">:</span> AuthService<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> router<span class=\"token operator\">:</span> Router<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2>store/auth/auth.module.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NgModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CommonModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">AUTH_FEATURE_KEY</span><span class=\"token punctuation\">,</span> reducer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.reducer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> EffectsModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthEffects <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.effect'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    CommonModule<span class=\"token punctuation\">,</span>\n    StoreModule<span class=\"token punctuation\">.</span><span class=\"token function\">forFeature</span><span class=\"token punctuation\">(</span><span class=\"token constant\">AUTH_FEATURE_KEY</span><span class=\"token punctuation\">,</span> reducer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    EffectsModule<span class=\"token punctuation\">.</span><span class=\"token function\">forFeature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>AuthEffects<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthFeatureStoreModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2>store/auth/index.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.action'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.reducer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.selector'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.effect'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./auth.module'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>store/reducer.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> fromAuth <span class=\"token keyword\">from</span> <span class=\"token string\">'@store/application/auth'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">State</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>fromAuth<span class=\"token punctuation\">.</span><span class=\"token constant\">AUTH_FEATURE_KEY</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> fromAuth<span class=\"token punctuation\">.</span>AuthState<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> fromPost<span class=\"token punctuation\">,</span> fromAuth <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/store.module.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CommonModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NgModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> EffectsModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AuthFeatureStoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./application/auth'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  declarations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    CommonModule<span class=\"token punctuation\">,</span>\n    StoreModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        runtimeChecks<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          strictActionImmutability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictStateSerializability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictActionSerializability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictStateImmutability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictActionTypeUniqueness<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    EffectsModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    AuthFeatureStoreModule<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppStoreModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Store Entity Feature Module</h1>\n<p>Nếu state đó có dạng một list các item hoặc bị lồng vào nhau hãy tham khảo thử bài viết này <a href=\"https://redux.js.org/recipes/structuring-reducers/normalizing-state-shape\">https://redux.js.org/recipes/structuring-reducers/normalizing-state-shape</a>. Trong NgRx có<code class=\"language-text\">@ngrx/entity</code> sẽ hỗ trợ việc đó một cách nhanh chóng.</p>\n<h2>store/post/post.reducer.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createEntityAdapter<span class=\"token punctuation\">,</span> EntityAdapter<span class=\"token punctuation\">,</span> EntityState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/entity'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Action<span class=\"token punctuation\">,</span> createReducer<span class=\"token punctuation\">,</span> on <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Post <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@app/models'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> loadPosts<span class=\"token punctuation\">,</span> selectPost <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.action'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">POST_FEATURE_KEY</span> <span class=\"token operator\">=</span> <span class=\"token string\">'posts'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> adapter<span class=\"token operator\">:</span> EntityAdapter<span class=\"token operator\">&lt;</span>Post<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createEntityAdapter</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Post<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PostEntityState</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EntityState<span class=\"token operator\">&lt;</span>Post<span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  selectedPostId<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> initialState<span class=\"token operator\">:</span> PostEntityState <span class=\"token operator\">=</span> adapter<span class=\"token punctuation\">.</span><span class=\"token function\">getInitialState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selectedPostId<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> _postReducer <span class=\"token operator\">=</span> <span class=\"token function\">createReducer</span><span class=\"token punctuation\">(</span>\n  initialState<span class=\"token punctuation\">,</span>\n  <span class=\"token function\">on</span><span class=\"token punctuation\">(</span>selectPost<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span> selectedPostId<span class=\"token operator\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">on</span><span class=\"token punctuation\">(</span>loadPosts<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> adapter<span class=\"token punctuation\">.</span><span class=\"token function\">addMany</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span> selectedPostId<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">reducer</span><span class=\"token punctuation\">(</span>state<span class=\"token operator\">:</span> PostEntityState <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> action<span class=\"token operator\">:</span> Action<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">_postReducer</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2>store/post/post.action.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createAction<span class=\"token punctuation\">,</span> props <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Post <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@app/models'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> fetchPosts <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[Post] Fetch Posts'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectPost <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[Post] Select Post'</span><span class=\"token punctuation\">,</span> <span class=\"token generic-function\"><span class=\"token function\">props</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> loadPosts <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[Post] Load Posts'</span><span class=\"token punctuation\">,</span> <span class=\"token generic-function\"><span class=\"token function\">props</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> posts<span class=\"token operator\">:</span> Post<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/post/post.selector.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createFeatureSelector<span class=\"token punctuation\">,</span> createSelector <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> adapter<span class=\"token punctuation\">,</span> <span class=\"token constant\">POST_FEATURE_KEY</span><span class=\"token punctuation\">,</span> PostEntityState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.reducer'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> selectPostState <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createFeatureSelector</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>PostEntityState<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token constant\">POST_FEATURE_KEY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> selectIds<span class=\"token punctuation\">,</span> selectAll<span class=\"token punctuation\">,</span> selectEntities<span class=\"token punctuation\">,</span> selectTotal <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> adapter<span class=\"token punctuation\">.</span><span class=\"token function\">getSelectors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectPostIds <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectPostState<span class=\"token punctuation\">,</span> selectIds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectPostEntities <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectPostState<span class=\"token punctuation\">,</span> selectEntities<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectPostTotal <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectPostState<span class=\"token punctuation\">,</span> selectTotal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectAllPosts <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectPostState<span class=\"token punctuation\">,</span> selectAll<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectCurrentPostId <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>selectPostState<span class=\"token punctuation\">,</span> state <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>selectedPostId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectCurrentPost <span class=\"token operator\">=</span> <span class=\"token function\">createSelector</span><span class=\"token punctuation\">(</span>\n  selectPostEntities<span class=\"token punctuation\">,</span>\n  selectCurrentPostId<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span>postEntities<span class=\"token punctuation\">,</span> postId<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> postEntities<span class=\"token punctuation\">[</span>postId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/post/post.effect.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Injectable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Actions<span class=\"token punctuation\">,</span> createEffect<span class=\"token punctuation\">,</span> ofType <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> map<span class=\"token punctuation\">,</span> mergeMapTo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'rxjs/operators'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PostService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@app/services'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fetchPosts<span class=\"token punctuation\">,</span> loadPosts <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.action'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Injectable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PostEffects</span> <span class=\"token punctuation\">{</span>\n  fetchPostsEffect$ <span class=\"token operator\">=</span> <span class=\"token function\">createEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>action$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">ofType</span><span class=\"token punctuation\">(</span>fetchPosts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">mergeMapTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>postService<span class=\"token punctuation\">.</span><span class=\"token function\">getAllPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>posts <span class=\"token operator\">=></span> <span class=\"token function\">loadPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> action$<span class=\"token operator\">:</span> Actions<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> postService<span class=\"token operator\">:</span> PostService<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2>store/post/post.module.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CommonModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NgModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> EffectsModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PostEffects <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.effect'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">POST_FEATURE_KEY</span><span class=\"token punctuation\">,</span> reducer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.reducer'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    CommonModule<span class=\"token punctuation\">,</span>\n    StoreModule<span class=\"token punctuation\">.</span><span class=\"token function\">forFeature</span><span class=\"token punctuation\">(</span><span class=\"token constant\">POST_FEATURE_KEY</span><span class=\"token punctuation\">,</span> reducer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    EffectsModule<span class=\"token punctuation\">.</span><span class=\"token function\">forFeature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>PostEffects<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PostFeatureStoreModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h2>store/post/index.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.action'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.reducer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.effect'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.selector'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./post.module'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/reducer.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> fromPost <span class=\"token keyword\">from</span> <span class=\"token string\">'@store/entities/post'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> fromAuth <span class=\"token keyword\">from</span> <span class=\"token string\">'@store/application/auth'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">State</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>fromPost<span class=\"token punctuation\">.</span><span class=\"token constant\">POST_FEATURE_KEY</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> fromPost<span class=\"token punctuation\">.</span>PostEntityState<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">[</span>fromAuth<span class=\"token punctuation\">.</span><span class=\"token constant\">AUTH_FEATURE_KEY</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> fromAuth<span class=\"token punctuation\">.</span>AuthState<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> fromPost<span class=\"token punctuation\">,</span> fromAuth <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>store/store.module.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CommonModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NgModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> EffectsModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ngrx/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PostFeatureStoreModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./entities/post'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  declarations<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    CommonModule<span class=\"token punctuation\">,</span>\n    StoreModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        runtimeChecks<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          strictActionImmutability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictStateSerializability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictActionSerializability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictStateImmutability<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          strictActionTypeUniqueness<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    EffectsModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    PostFeatureStoreModule<span class=\"token punctuation\">,</span>\n    AuthFeatureStoreModule<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppStoreModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h1>Sử dụng @ngrx/component-store cho local state</h1>\n<p>Với những state cần phải share trong app thì sẽ được quản lý bằng store. Nhưng sẽ có một số state chỉ được sử dụng bởi chính component đó thì <code class=\"language-text\">@ngrx/component-store</code> sẽ là một sự lựa chọn cho ai thích áp dụng Reactive Programming trong Angular nhiều nhất có thể. Nó mang lại một số lợi ích sau:</p>\n<ul>\n<li>Tách biệt logic quản lý local state của component ra một service riêng.</li>\n<li>Reactive hoàn toàn giúp đơn giản hơn trong việc kết hợp với các state khác bằng các operator của RxJS.</li>\n<li>Tất cả logic về get, update state đều được thực hiện qua RxJS giúp được viết theo style declarative rất dễ hiểu (nếu người đọc cũng có nền tảng tốt về Functional Programming và Reactive Programming).</li>\n</ul>\n<h1>Tổng kết</h1>\n<p>Về cơ bản thì trong angular chúng ta có thể phần chia code thành các module và khi sử dụng NgRx thì mình thường cho store là một module riêng. Module này sẽ được import vào App Module và load ngay từ đầu chứ không cần lazy load gì cả. </p>\n<p>Structure đề nghị sẽ như thế này</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">.</span>\n├── app\n│   ├── app-routing.module.ts\n│   ├── app.module.ts\n│   ├── features\n│   │   ├── board\n│   │   │   ├── board-routing.module.ts\n│   │   │   ├── board.component.html\n│   │   │   ├── board.component.scss\n│   │   │   ├── board.component.ts\n│   │   │   ├── board.module.ts\n│   │   │   ├── header\n│   │   │   │   ├── __snapshots__\n│   │   │   │   │   └── header.component.spec.ts.snap\n│   │   │   │   ├── header.component.html\n│   │   │   │   ├── header.component.scss\n│   │   │   │   ├── header.component.spec.ts\n│   │   │   │   └── header.component.ts\n│   │   │   └── index.ts\n│   │   ├── login\n│   │   │   ├── __snapshots__\n│   │   │   ├── index.ts\n│   │   │   ├── login-form\n│   │   │   │   ├── __snapshots__\n│   │   │   │   │   └── login-form.component.spec.ts.snap\n│   │   │   │   ├── login-form.component.html\n│   │   │   │   ├── login-form.component.scss\n│   │   │   │   ├── login-form.component.spec.ts\n│   │   │   │   ├── login-form.component.ts\n│   │   │   │   └── login-form.store.ts\n│   │   │   ├── login-routing.module.ts\n│   │   │   ├── login.component.html\n│   │   │   ├── login.component.scss\n│   │   │   ├── login.component.ts\n│   │   │   └── login.module.ts\n│   │   └── posts\n│   │       ├── __snapshots__\n│   │       ├── index.ts\n│   │       ├── post-detail\n│   │       │   ├── __snapshots__\n│   │       │   │   └── post-detail.component.spec.ts.snap\n│   │       │   ├── post-detail.component.html\n│   │       │   ├── post-detail.component.scss\n│   │       │   ├── post-detail.component.spec.ts\n│   │       │   └── post-detail.component.ts\n│   │       ├── post-list\n│   │       │   ├── __snapshots__\n│   │       │   │   └── post-list.component.spec.ts.snap\n│   │       │   ├── post-list.component.html\n│   │       │   ├── post-list.component.scss\n│   │       │   ├── post-list.component.spec.ts\n│   │       │   └── post-list.component.ts\n│   │       ├── posts-routing.module.ts\n│   │       ├── posts.component.html\n│   │       ├── posts.component.scss\n│   │       ├── posts.component.ts\n│   │       └── posts.module.ts\n│   ├── guards\n│   │   ├── auth.guard.spec.ts\n│   │   ├── auth.guard.ts\n│   │   ├── login.guard.spec.ts\n│   │   └── login.guard.ts\n│   ├── main\n│   │   ├── __snapshots__\n│   │   │   └── main.component.spec.ts.snap\n│   │   ├── main.component.html\n│   │   ├── main.component.scss\n│   │   ├── main.component.spec.ts\n│   │   └── main.component.ts\n│   ├── models\n│   │   ├── index.ts\n│   │   ├── post.model.ts\n│   │   └── user.model.ts\n│   ├── services\n│   │   ├── auth.service.ts\n│   │   ├── index.ts\n│   │   └── post.service.ts\n│   └── store\n│       ├── auth\n│       │   ├── auth.action.ts\n│       │   ├── auth.effect.ts\n│       │   ├── auth.module.ts\n│       │   ├── auth.reducer.ts\n│       │   ├── auth.selector.ts\n│       │   └── index.ts\n│       ├── post\n│       │   ├── index.ts\n│       │   ├── post.action.ts\n│       │   ├── post.effect.ts\n│       │   ├── post.module.ts\n│       │   ├── post.reducer.ts\n│       │   └── post.selector.ts\n│       ├── reducers.ts\n│       └── store.module.ts\n├── assets\n├── environments\n│   ├── environment.prod.ts\n│   └── environment.ts\n├── favicon.ico\n├── index.html\n├── main.ts\n├── polyfills.ts\n├── styles.scss\n└── theme\n    └── base.scss</code></pre></div>","frontmatter":{"path":"/state-management-with-ngrx-in-angular","title":"State Management Trong Angular Với NgRx","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVQoz6VQTUvDQBDt//AkIqLU7uzMJLtJSDQfpUkqHlrqBz0UwZtYFMSLFPFmPXrx4o91kqiUVEFwdmD3vdk3s287+I/oNJuuY/28GgDQ4j/FzGysISKpsuMYYwipJbbGSmrUq2IS6FmvyIeuYxRA6AdJlinSXJcQtDSSmWmRZnkqjMC6NXUIWeo+x4kzcckX7mHn6n3jpuiFPQTrWt/zNegojBbe811/EWexrts14qpN3zsrg4vIG5Uqed28Pe2WJ2q8292bnk/n1/P9XncQ5C/B2+NgWSRDBYqJG7GMdg7NcWLHB+YIie+3R09bsxwGgGAcV3ySJnZ5lExm/Utr7ffLm8kVYOTKG6K4DcDIr1Pjub4qSBaQanmm9dSIP/Caq/yCv4r/mB9+SoGUOEIkAQAAAABJRU5ErkJggg==","aspectRatio":2.076923076923077,"src":"/next-blog/static/87ffd824dd8c7491b87410f85f57d6cb/05d05/ngrx-featured.png","srcSet":"/next-blog/static/87ffd824dd8c7491b87410f85f57d6cb/5ca18/ngrx-featured.png 270w,\n/next-blog/static/87ffd824dd8c7491b87410f85f57d6cb/13528/ngrx-featured.png 540w,\n/next-blog/static/87ffd824dd8c7491b87410f85f57d6cb/05d05/ngrx-featured.png 1080w,\n/next-blog/static/87ffd824dd8c7491b87410f85f57d6cb/a481c/ngrx-featured.png 1087w","sizes":"(max-width: 1080px) 100vw, 1080px"}}},"date":"2020-09-28","tags":"TYPESCRIPT,ANGULAR,RXJS","duration":15}}},"pageContext":{"mdpath":"/state-management-with-ngrx-in-angular","language":"en","intl":{"language":"en","languages":["en","vi"],"messages":{"home.greeting":"Hello, I'm Hai Dinh Nguyen","home.intro":"I'm a Software Engineer. I mostly do front-end development. I can work well with React and Angular, also a big fan of Functional Programming and Reactive Programming."},"routed":true,"originalPath":"/state-management-with-ngrx-in-angular","redirect":true,"defaultLanguage":"en"}}},"staticQueryHashes":["4033596395"]}