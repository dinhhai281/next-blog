<!DOCTYPE html><html lang="vi"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/next-blog/styles.696403ca8166ceb7a934.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);.article{font-family:Montserrat}.article a,.article button,.article input{-webkit-tap-highlight-color:transparent}.article p{color:#292929;letter-spacing:-.003em;line-height:32px;font-size:21px;margin-top:2em;margin-bottom:-.46em}.article p:first-child{margin-top:1.1em}.article a{text-decoration:underline;color:inherit}.article h1{line-height:36px;margin-top:1.95em;font-size:30px;letter-spacing:0;margin-bottom:-.28em}.article h1,.article h2{color:#292929;font-weight:500}.article h2{margin-top:1em;font-size:26px;margin-bottom:-.36em}.article h4{color:#292929;font-size:22px;margin-bottom:-.26em;font-weight:500}.article pre{margin-top:.8em}.article ul{color:#292929;letter-spacing:-.003em;line-height:32px;font-size:21px;margin-top:1em;margin-bottom:-.46em}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.32.3"/><title data-react-helmet="true">M·ªôt ch√∫t ng·∫´u h·ª©ng v·ªõi Angular - First Class Observable Pattern | Hai Nguyen</title><meta data-react-helmet="true" name="description" content="Hai&#x27;s Personal Blog"/><meta data-react-helmet="true" name="keywords" content="Blog,React,Angular,Javascript,Typescript,Functional Programming"/><meta data-react-helmet="true" property="og:title" content="M·ªôt ch√∫t ng·∫´u h·ª©ng v·ªõi Angular - First Class Observable Pattern"/><meta data-react-helmet="true" property="og:type" content="website"/><link as="script" rel="preload" href="/next-blog/webpack-runtime-6ce45a7ec86322bce28b.js"/><link as="script" rel="preload" href="/next-blog/framework-8aba4025690a031b46dc.js"/><link as="script" rel="preload" href="/next-blog/styles-755093da0c07f4b49226.js"/><link as="script" rel="preload" href="/next-blog/app-68672042ae7cb9401002.js"/><link as="script" rel="preload" href="/next-blog/05d954cf-c6db298c906c9c30084e.js"/><link as="script" rel="preload" href="/next-blog/commons-518e58bf6a7d4015b30b.js"/><link as="script" rel="preload" href="/next-blog/022d3153bf09c36cd784dcdb36ffbd187f9c96d7-8695945ca61dfd864cb3.js"/><link as="script" rel="preload" href="/next-blog/component---src-templates-blog-post-tsx-66c6938f7d1532686151.js"/><link as="fetch" rel="preload" href="/next-blog/page-data/vi/first-class-observable-angular/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/next-blog/page-data/sq/d/4033596395.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/next-blog/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function setScript(initialValue) {
  var mql = window.matchMedia("(prefers-color-scheme: dark)");
  var systemPreference = mql.matches ? "dark" : "light";
  var persistedPreference;

  try {
    persistedPreference = localStorage.getItem("chakra-ui-color-mode");
  } catch (error) {
    console.log("Chakra UI: localStorage is not available. Color mode persistence might not work as expected");
  }

  var isInStorage = typeof persistedPreference === "string";
  var colorMode;

  if (isInStorage) {
    colorMode = persistedPreference;
  } else {
    colorMode = initialValue === "system" ? systemPreference : initialValue;
  }

  if (colorMode) {
    var root = document.documentElement;
    root.style.setProperty("--chakra-ui-color-mode", colorMode);
  }
})('light')</script><div id="___gatsby"><style data-emotion="css-global 1syi0wy">html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:system-ui,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;touch-action:manipulation;}body{position:relative;min-height:100%;font-feature-settings:'kern';}*,*::before,*::after{border-width:0;border-style:solid;box-sizing:border-box;}main{display:block;}hr{border-top-width:1px;box-sizing:content-box;height:0;overflow:visible;}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:1em;}a{background-color:transparent;color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bold;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none!important;}input[type="number"]{-moz-appearance:textfield;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none!important;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}template{display:none;}[hidden]{display:none!important;}body,blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0;}button{background:transparent;padding:0;}fieldset{margin:0;padding:0;}ol,ul{margin:0;padding:0;}textarea{resize:vertical;}button,[role="button"]{cursor:pointer;}button::-moz-focus-inner{border:0!important;}table{border-collapse:collapse;}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle;}img,video{max-width:100%;height:auto;}[data-js-focus-visible] :focus:not([data-focus-visible-added]){outline:none;box-shadow:none;}select::-ms-expand{display:none;}</style><style data-emotion="css-global 1rxzalh">body{font-family:Montserrat;color:#1A202C;background:#FFFFFF;-webkit-transition:background-color 0.2s;transition:background-color 0.2s;line-height:1.5;}*::-webkit-input-placeholder{color:#A0AEC0;}*::-moz-placeholder{color:#A0AEC0;}*:-ms-input-placeholder{color:#A0AEC0;}*::placeholder{color:#A0AEC0;}*,*::before,::after{border-color:#E2E8F0;word-wrap:break-word;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ldo4d5">.css-ldo4d5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;}</style><div class="css-ldo4d5"><style data-emotion="css 1elhtw7">.css-1elhtw7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-left:2rem;padding-right:2rem;padding-top:6rem;padding-bottom:6rem;width:100%;max-width:56rem;}.css-1elhtw7>*:not(style)~*:not(style){margin-top:0.5rem;-webkit-margin-start:0;margin-inline-start:0;}</style><div class="chakra-stack css-1elhtw7"><style data-emotion="css esc6ow">.css-esc6ow{width:100%;text-align:center;font-size:3.75rem;font-weight:700;margin-bottom:2rem;color:#2D3748;}</style><p class="chakra-text css-esc6ow">M·ªôt ch√∫t ng·∫´u h·ª©ng v·ªõi Angular - First Class Observable Pattern</p><style data-emotion="css 1lg3zhh">.css-1lg3zhh{width:150%;margin-top:2rem;margin-bottom:2rem;max-width:1200px;}</style><div class="css-1lg3zhh"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:30%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnElEQVQY02NYpNTNOEe5i+GjSK/CKene1XuleuedEOq2PyjSw2AimsfQrtDOkKHVzpAJxNnaXQyZ2h2MmVodYLE0zRYGEBsoBuS3MXzr/c/A8J+7n+E/+wSeqSrdl5cq9fw/Idrz/yFv7/+r/D09/9kmMPxnmM0IVMwOxJw5Ot1gzVADmZI1GkEWcQAxV7pmG0OscjUDw2z5Lob1Ml1u0xW7/09W7Zm5UbxT5Q1Xb+E2se56O4NWHTeDNqAhnWZAg5yAWByIxYAGsmVpdwgADZUE8s2BWCMNaCDI1QwHxbsZDkt0W14U7Pl/n6fH6AZ/D8NGyW6GGP2OuDStjvQcoGuytDtNgZqsgFgIiL2BWBqIVaEGKoINhbiUgeE8Xy/jFcFehreCfete8PUefsfao7lHsscJGAR3KrQ69aq0uhgKtLtAipkyQJq0O/igtDzQpaxAWgKIJbOBwVGgN5GB4aNoH+MPiX6Gh5p9HG9E+ha/4e39ckmw59ZauZ5cIM3wmb2XMV6vmwEURiAXQMKwHR6WYBqIUzWbgGpaGQBOoaiqG48iQAAAAABJRU5ErkJggg==" alt="featured-image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/5ca18/rxjs-featured.png 270w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/13528/rxjs-featured.png 540w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/05d05/rxjs-featured.png 1080w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/ba0d8/rxjs-featured.png 1620w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/85b69/rxjs-featured.png 1838w" sizes="(max-width: 1080px) 100vw, 1080px" /><img loading="lazy" sizes="(max-width: 1080px) 100vw, 1080px" srcset="/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/5ca18/rxjs-featured.png 270w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/13528/rxjs-featured.png 540w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/05d05/rxjs-featured.png 1080w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/ba0d8/rxjs-featured.png 1620w,
/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/85b69/rxjs-featured.png 1838w" src="/next-blog/static/c74ac8947b9e5dc496e8909256ceb548/05d05/rxjs-featured.png" alt="featured-image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><style data-emotion="css 9yfthd">.css-9yfthd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;}.css-9yfthd>*:not(style)~*:not(style){-webkit-margin-start:0.5rem;margin-inline-start:0.5rem;margin-top:0;}</style><div class="chakra-stack css-9yfthd"><style data-emotion="css 167hdm8">.css-167hdm8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:fixed;top:3rem;left:calc((100vw - 1200px) / 2 + .5rem);width:calc((1200px - 896px) / 2 - 16px);}</style><div class="css-167hdm8"><style data-emotion="css 1t8mbiy">.css-1t8mbiy{color:#97266D;margin-bottom:1rem;font-size:1.125rem;font-weight:600;}</style><p class="chakra-text css-1t8mbiy">Hai Nguyen&#x27;s Blog</p><style data-emotion="css lytb1o">.css-lytb1o{font-size:0.875rem;margin-bottom:0.5rem;color:#1A202C;}</style><p class="chakra-text css-lytb1o">Get better on coding, cooking and gamming everyday.</p><style data-emotion="css svjswr">.css-svjswr{opacity:0.6;border:0;border-color:inherit;border-style:solid;border-bottom-width:1px;width:100%;}</style><hr role="separator" aria-orientation="horizontal" class="chakra-divider css-svjswr"/><style data-emotion="css 7obav3">.css-7obav3{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;outline:none;width:auto;line-height:1.2;border-radius:0.375rem;font-weight:600;height:2.5rem;min-width:2.5rem;font-size:1rem;padding-left:1rem;padding-right:1rem;background:#EDF2F7;margin-top:1rem;}.css-7obav3:focus,.css-7obav3[data-focus]{box-shadow:0 0 0 3px rgba(66, 153, 225, 0.6);}.css-7obav3[disabled],.css-7obav3[disabled]:focus,.css-7obav3[disabled]:hover,.css-7obav3[aria-disabled=true],.css-7obav3[aria-disabled=true]:focus,.css-7obav3[aria-disabled=true]:hover,.css-7obav3[data-disabled],.css-7obav3[data-disabled]:focus,.css-7obav3[data-disabled]:hover{opacity:0.4;cursor:not-allowed;box-shadow:none;}.css-7obav3:hover,.css-7obav3[data-hover]{background:#E2E8F0;}.css-7obav3:hover[disabled],.css-7obav3[data-hover][disabled],.css-7obav3:hover[disabled]:focus,.css-7obav3[data-hover][disabled]:focus,.css-7obav3:hover[disabled]:hover,.css-7obav3[data-hover][disabled]:hover,.css-7obav3:hover[aria-disabled=true],.css-7obav3[data-hover][aria-disabled=true],.css-7obav3:hover[aria-disabled=true]:focus,.css-7obav3[data-hover][aria-disabled=true]:focus,.css-7obav3:hover[aria-disabled=true]:hover,.css-7obav3[data-hover][aria-disabled=true]:hover,.css-7obav3:hover[data-disabled],.css-7obav3[data-hover][data-disabled],.css-7obav3:hover[data-disabled]:focus,.css-7obav3[data-hover][data-disabled]:focus,.css-7obav3:hover[data-disabled]:hover,.css-7obav3[data-hover][data-disabled]:hover{background:#EDF2F7;}.css-7obav3:active,.css-7obav3[data-active]{background:#CBD5E0;}</style><a class="chakra-button css-7obav3" href="/next-blog/vi/">Back</a></div><style data-emotion="css 17jpevf">.css-17jpevf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:3rem;}</style><div class="css-17jpevf"><style data-emotion="css 9at4gq">.css-9at4gq{border-radius:9999px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;text-transform:uppercase;font-weight:500;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;background:#A0AEC0;color:#1A202C;border-color:#FFFFFF;vertical-align:top;width:3rem;height:3rem;font-size:calc(3rem / 2.5);margin-right:1rem;}</style><span class="chakra-avatar css-9at4gq"><style data-emotion="css 16ite8i">.css-16ite8i{color:#fff;width:100%;height:100%;}</style><svg viewBox="0 0 128 128" role="img" class="css-16ite8i"><path fill="currentColor" d="M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"></path><path fill="currentColor" d="M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"></path></svg></span><style data-emotion="css 1ei42wq">.css-1ei42wq{color:#2D3748;margin-right:0.25rem;font-size:1.25rem;}</style><p class="chakra-text css-1ei42wq">by</p><style data-emotion="css 1rm39z5">.css-1rm39z5{font-size:1.25rem;color:#2D3748;-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="chakra-text css-1rm39z5" href="https://github.con/dinhhai281">Hai Nguyen</a></div><style data-emotion="css 70qvj9">.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-70qvj9"><style data-emotion="css 1b30jsj">.css-1b30jsj{width:1.5rem;height:1.5rem;display:inline-block;line-height:1em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:#2D3748;vertical-align:middle;margin-right:1rem;}</style><svg viewBox="0 0 14 14" focusable="false" class="chakra-icon css-1b30jsj"><path fill="currentColor" d="M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"></path></svg><style data-emotion="css zbloxw">.css-zbloxw{font-size:1.25rem;color:#2D3748;}</style><p class="chakra-text css-zbloxw">06 August, 2020</p></div></div><style data-emotion="css 8atqhb">.css-8atqhb{width:100%;}</style><div class="article css-8atqhb" data-testid="post-content"><p>Reactive eXtensions for JavaScript l√† v≈© kh√≠ t·ªëi th∆∞·ª£ng v·ªõi b·∫•t k·ª≥ ai code JavaScript ƒë·∫∑c bi·ªát l√† nh·ªØng ai ƒëau kh·ªï v·ªõi Angular nh∆∞ m√¨nh. Trong nh·ªØng ng√†y th√°ng ƒë√≥ th√¨ m√¨nh c≈©ng t√¨m ra m·ªôt c√°ch ƒë·ªÉ enjoy Angular ƒë√≥ l√† d√πng RxJS cho m·ªçi th·ª© bi·∫øn b·∫£n th√¢n th√†nh m·ªôt Pure Reactive Programmer. B√†i vi·∫øt n√†y s·∫Ω vi·∫øt v·ªÅ c√°ch m√¨nh s·ª≠ d·ª•ng rxjs cho ph·∫ßn l·ªõn c√°c tr∆∞·ªùng h·ª£p th∆∞·ªùng g·∫∑p ph·∫£i khi l√†m vi·ªác v·ªõi Angular, c√°i m√† m√¨nh t·ª± g·ªçi l√† <code class="language-text">First Class Observable Pattern</code>.</p>
<p>‚ö†Ô∏è <strong>M·ªôt s·ªë thu·∫≠t ng·ªØ d√πng trong n√†y ƒë·ªÅu kh√¥ng ch√≠nh th·ª©c v√† c√≥ th·ªÉ kh√¥ng ch√≠nh x√°c v·ªÅ m·∫∑t h·ªçc thu·∫≠t.</strong></p>
<p>√ù t∆∞·ªüng ch√≠nh ·ªü ƒë√¢y l√† d√πng <code class="language-text">Observable</code> cho t·∫•t c·∫£ m·ªçi th·ª©. D·ªØ li·ªáu, event, side effect,... t·∫•t c·∫£ ƒë·ªÅu ƒë∆∞·ª£c th·ªÉ hi·ªán d∆∞·ªõi d·∫°ng <code class="language-text">Observable</code>. M·ª•c ƒë√≠ch c·ªßa vi·ªác n√†y l√† t·∫•t c·∫£ m·ªçi th·ª© ƒë·ªÅu l√† stream th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c operator c·ªßa <code class="language-text">RxJS</code> ƒë·ªÉ th·ª±c hi·ªán c√°c logic trong code. ƒêi·ªÅu n√†y r·∫•t c·∫ßn thi·∫øt khi c·∫ßn l√†m nh·ªØng th·ª© nh∆∞ l√† input v√† m·ªôt input th√¨ gi√° tr·ªã ·ªü input kh√°c c≈©ng ph·∫£i ƒë·ªïi theo v√† c√≥ th·ªÉ trong ƒë√≥ c√≤n v√†i y·∫øu t·ªë kh√°c ·∫£nh h∆∞·ªüng t·ªõi lu·ªìng thay ƒë·ªïi ƒë√≥.</p>
<h4>Observable - V≈© kh√≠ t·ªëi th∆∞·ª£ng</h4>
<p>V√≠ d·ª• b·∫°n c√≥ c√≥ 2 bi·∫øn <code class="language-text">x</code> v√† <code class="language-text">y</code> l√† <code class="language-text">number</code>. N·∫øu b·∫°n mu·ªën <code class="language-text">z</code> = <code class="language-text">x</code> + <code class="language-text">y</code> th√¨ b·∫°n s·∫Ω l√†m nh∆∞ th·∫ø n√†o?</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> z <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></code></pre></div>
<p>N·∫øu b·∫°n l√†m gi·ªëng nh∆∞ ƒëo·∫°n code tr√™n th√¨ c√≥ th·ªÉ n√≥i l√† b·∫°n v·ª´a ƒë√∫ng v·ª´a sai. B·∫°n ƒë√∫ng v√¨ t·∫°i th·ªùi ƒëi·ªÉm ph√©p g√°n ƒë∆∞·ª£c th·ª±c hi·ªán nh∆∞ng n·∫øu sau ƒë√≥ b·∫°n g√°n <code class="language-text">x = 1</code> th√¨ sao? B·∫°n th·∫•y ƒë√≥ n·∫øu gi√° tr·ªã c·ªßa <code class="language-text">x</code> thay ƒë·ªïi th√¨ ngay l·∫≠p t·ª©c <code class="language-text">z</code> ƒë√£ kh√¥ng c√≤n b·∫±ng <code class="language-text">x + y</code>. B·∫°n s·∫Ω c·∫ßn ph·∫£i l·∫∑p l·∫°i d√≤ng code <code class="language-text">let z = x + y</code>.</p>
<p>ƒê·ªÉ ch·∫Øc ch·∫Øn <code class="language-text">z</code> lu√¥n lu√¥n b·∫±ng <code class="language-text">x + y</code> th√¨ h√£y t∆∞·ªüng t∆∞·ª£ng <code class="language-text">x</code> v√† <code class="language-text">y</code> l√† c√°c stream <code class="language-text">number</code> gi√° tr·ªã c·ªßa ch√∫ng s·∫Ω thay ƒë·ªïi theo th·ªùi gian, c√≤n <code class="language-text">z</code> l√† m·ªôt stream t·ªïng c·ªßa <code class="language-text">x</code> v√† <code class="language-text">y</code> (gi√° tr·ªã c·ªßa z s·∫Ω l√† t·ªïng c·ªßa x v√† y t·∫°i th·ªùi ƒëi·ªÉm t). ƒêi·ªÅu n√†y c√≥ nghia l√† m·ªói khi x ho·∫∑c y thay ƒë·ªïi gi√° tr·ªã th√¨ gi√° tr·ªã c·ªßa z s·∫Ω ƒë∆∞·ª£c t√≠nh l·∫°i.</p>
<p>Hy v·ªçng b·∫°n hi·ªÉu v·∫•n ƒë·ªÅ tr√™n, ƒë√≥ l√† √Ω t∆∞·ªüng c·ªßa <code class="language-text">Reactive Programming</code>. V·∫≠y ƒë·ªÉ l√†m vi·ªác tr√™n thay v√¨ bi·ªÉu di·ªÉn x v√† y l√† 2 <code class="language-text">number</code> v√† g√°n <code class="language-text">z</code> b·∫±ng <code class="language-text">x + y</code> ·ªü m·ªôt d√≤ng code n√†o ƒë√≥ th√¨ h√£y c√¢n nh·∫Øc l√†m nh∆∞ th·∫ø n√†y.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> x$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> y$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> z$ <span class="token operator">=</span> <span class="token function">combineLatest</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x$<span class="token punctuation">,</span> y$<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// N·∫øu mu·ªën thay ƒë·ªïi gi√° tr·ªã c·ªßa x v√† y</span>
x$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
y$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>T·ªõi ƒë√¢y c√≥ th·ªÉ nhi·ªÅu ng∆∞·ªùi s·∫Ω nghƒ© r·∫±ng vi·ªác tr√™n ch·ªâ l√† ph·ª©c t·∫°p ho√° m·ªçi th·ª©, th·∫≠t ra c≈©ng ƒë√∫ng nh∆∞ng m√† ƒë√¥i khi ph·∫£i ch·∫•p nh·∫≠n ƒë√°nh ƒë·ªïi c√°i n√†y ƒë·ªÉ c√≥ ƒë∆∞·ª£c c√°i kh√°c th√¥i. H√£y t∆∞·ªüng t∆∞·ª£ng <code class="language-text">Observable</code> l√† m·ªôt c√°i h·ªôp ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ d·ªÖ d√†ng s·∫Øp x·∫øp v√† di chuy·ªÉn, n·∫øu b·∫°n b·ªè h·∫øt t·∫•t c·∫£ ƒë·ªì ƒë·∫°c trong nh√† v√¥ ƒë√≥ th√¨ m·ªçi th·ª© tr·ªçng nh√† b·∫°n ƒë·ªÅu c√≥ th·ªÉ ƒë∆∞·ª£c s·∫Øp x·∫øp g·ªçn g√†ng, b·∫°n s·∫Ω l√†m ƒë∆∞·ª£c ƒë∆∞·ª£c nh·ªØng vi·ªác m√† tr∆∞·ªõc ƒë√≥ kh√¥ng th·ªÉ n√†o l√†m ƒë∆∞·ª£c ch·∫≥ng h·∫°n nh∆∞ ƒë·∫∑t m·ªôt c√°i b√†n ph√≠m n·∫±m tr√™n m·ªôt c√¢y b√∫t ü§î. Thay v√¨ b·∫•t kh·∫£ thi th√¨ b√¢y gi·ªù ch·ªâ c·∫ßn b·ªè m·ªçi th·ª© v√¥ h·ªôp l√† ƒë∆∞·ª£c.</p>
<p>Nh∆∞ng m√† kh√≥ khƒÉn m·ªôt c√°i l√† b√¢y gi·ªù mu·ªën d√πng c√°i g√¨ th√¨ tr∆∞·ªõc h·∫øt b·∫°n ph·∫£i l·∫•y c√°i h·ªôp ƒë·ª±ng ƒë·ªì v·∫≠t ƒë√≥ r·ªìi m·ªü h·ªôp ra.</p>
<p><em>Th·∫≠t ra m√¨nh c≈©ng mu·ªën gi·∫£i th√≠ch c√°i l√Ω thuy·∫øt tr√™n b·∫±ng Functional Programming nh∆∞ng m√† t·ª± th·∫•y tr√¨nh ch∆∞a ƒë·ªß ƒë·ªÉ gi·∫£i th√≠ch n√™n m·ªõi c√≥ c√¢u chuy·ªán c√°i h·ªôp, b√†n ph√≠m v√† c√¢y b√∫t ·ªü tr√™n</em> üò•</p>
<p>Quay l·∫°i v·ªõi code th√¨ m√¨nh mu·ªën b·ªè t·∫•t c·∫£ m·ªçi th·ª© t·ª´ data ƒë·∫øn logic v√†o trong <code class="language-text">Observable</code> v√† d√πng c√°c operator m√† <code class="language-text">rxjs</code> cung c·∫•p ƒë·ªÉ thao t√°c tr√™n nh·ªØng <code class="language-text">Observable</code> ƒë√≥. V·ªõi s·ªë l∆∞·ª£ng <code class="language-text">operator</code> c·ª±c kh·ªßng m√† <code class="language-text">rxjs</code> cung c·∫•p th√¨ ƒëi·ªÅu n√†y v√¥ c√πng kh·∫£ thi. V√≠ d·ª• tr√™n l√† c·ªông 2 s·ªë trong th·∫ø gi·ªõi c·ªßa <code class="language-text">Observable</code> ƒë√≥.</p>
<h4>M·ªôt s·ªë v√≠ d·ª• ƒë·ªÉ l√†m quen</h4>
<p><code class="language-text">Reactive Programming</code> hay h·∫πp h∆°n l√† <code class="language-text">rxjs</code> kh√¥ng ph·∫£i qu√° kh√≥ ƒë·ªÉ d√πng, m·ªçi th·ª© b·∫°n l√†m ƒë∆∞·ª£c v·ªõi c√°ch code th√¥ng th∆∞·ªùng b·∫°n ƒë·ªÅu c√≥ th·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu t∆∞∆°ng t·ª± v·ªõi c√°c operator c·ªßa <code class="language-text">rxjs</code>. Ph·∫ßn n√†y m√¨nh s·∫Ω ƒë∆∞a ra m·ªôt s·ªë v√≠ d·ª• ƒë·ªÉ nh·ªØng ai m·ªõi bi·∫øt ƒë·∫øn <code class="language-text">rxjs</code> c√≥ th·ªÉ l√†m quen v·ªõi c√°ch suy nghƒ© <strong>Everything is stream</strong> nh√©.</p>
<p><em>ƒê·ªÉ d·ªÖ hi·ªÉu th√¨ c√°c m√¨nh s·∫Ω d√πng <code class="language-text">BehaviorSubject</code> ƒë·ªÉ t·∫°o c√°c local stream, trong th·ª±c th·∫ø b·∫°n c√≥ th·ªÉ t·∫°o ra m·ªôt <code class="language-text">Observable</code> t·ª´ b·∫•t c·ª© th·ª© g√¨.</em></p>
<p><strong>Filter m·ªôt m·∫£ng theo ƒëi·ªÅu ki·ªán</strong></p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">NumberType</span> <span class="token operator">=</span> <span class="token string">'ODD'</span> <span class="token operator">|</span> <span class="token string">'EVEN'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> selectedNumberType$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span>NumberType<span class="token operator">></span></span><span class="token punctuation">(</span><span class="token string">'ODD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> numbers$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> filteredNumbersA$ <span class="token operator">=</span> <span class="token function">combineLatest</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  numbers$<span class="token punctuation">,</span>
  selectedNumberType$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">map</span><span class="token punctuation">(</span>numberType <span class="token operator">=></span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token punctuation">(</span>numberType <span class="token operator">===</span> <span class="token string">'ODD'</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>numbers<span class="token punctuation">,</span> filterFn<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>filterFn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// N·∫øu b·∫°n mu·ªën k·∫øt qu·∫£ ch·ªâ thay ƒë·ªïi khi lo·∫°i s·ªë ƒë∆∞·ª£c ch·ªçn thay ƒë·ªïi.</span>
<span class="token keyword">const</span> filteredNumbersB$ <span class="token operator">=</span> selectedNumberType$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">map</span><span class="token punctuation">(</span>numberType <span class="token operator">=></span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>
    value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token punctuation">(</span>numberType <span class="token operator">===</span> <span class="token string">'ODD'</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">withLatestFrom</span><span class="token punctuation">(</span>numbers$<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>filterFn<span class="token punctuation">,</span> numbers<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>filterFn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 3]</span>
<span class="token comment">// [2, 4]</span>
<span class="token comment">// [2]</span>
<span class="token comment">// [1]</span>
filteredNumbersA$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token builtin">console</span><span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [1, 3]</span>
<span class="token comment">// [2, 4]</span>
<span class="token comment">// [1]</span>
filteredNumbersB$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token builtin">console</span><span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>

selectedNumberType$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'EVEN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
numbers$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
selectedNumberType$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'ODD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Trong v√≠ d·ª• tr√™n m√¨nh ƒë√£ l·∫•y ra c√°c s·ªë ch·∫µn ho·∫∑c l·∫Ω tu·ª≥ theo <code class="language-text">selectedNumberType</code> ƒëang l√† <code class="language-text">EVEN</code> hay <code class="language-text">ODD</code>. C·ª• th·ªÉ l√† c√°c gi√° tr·ªã ƒë∆∞·ª£c emit t·ª´ <code class="language-text">selectedNumberType$</code> s·∫Ω ƒë∆∞·ª£c map th√†nh m·ªôt <code class="language-text">function</code> d√πng ƒë·ªÉ l·∫•y s·ªë ch·∫≥n hay l·∫ª ƒë·ªÉ s·ª≠ d·ª•ng trong method <code class="language-text">filter</code> c·ªßa array. B√¢y gi·ªù b·∫°n h√£y suy nghƒ© c√°ch ƒë·ªÉ l√†m ƒëi·ªÅu t∆∞∆°ng t·ª± nh∆∞ <code class="language-text">filteredNumbersA$</code> (k·∫øt qu·∫£ filter ƒë∆∞·ª£c thay ƒë·ªïi m·ªói khi m·∫£ng number v√† ƒëi·ªÅu ki·ªán filter thay ƒë·ªïi) v√†  <code class="language-text">filteredNumbersB$</code> (k·∫øt qu·∫£ filter ƒë∆∞·ª£c thay ƒë·ªïi ch·ªâ khi ƒëi·ªÅu ki·ªán filter thay ƒë·ªïi) xem c√≥ ƒë∆°n gi·∫£n kh√¥ng nh√©.</p>
<p>N·∫øu nh∆∞ code b√¨nh th∆∞·ªùng b·∫°n l√†m ƒë∆∞·ª£c k·∫øt qu·∫£ t∆∞∆°ng t·ª± m·ªôt c√°ch ƒë∆°n gi·∫£n tr√™n n·∫øu ch·∫≥ng c·∫ßn quan t√¢m ph·∫£i update l·∫°i k·∫øt qu·∫£ n·∫øu nh∆∞ c√°c bi·∫øn s·ªë c·ªßa b·∫°n thay ƒë·ªïi. Tuy nhi√™n khi s·ª± thay ƒë·ªïi tr·ªü n√™n c·∫ßn thi·∫øt b·∫°n v·∫´n s·∫Ω l√†m ƒë∆∞·ª£c th√¥i nh∆∞ng m√† r·∫•t c√≥ th·ªÉ l√† n√≥ s·∫Ω v√¥ c√πng ph·ª©c t·∫°p v√† kh√¥ng ai hi·ªÉu n·ªïi ngo√†i b·∫°n (m√¨nh ƒëang nghƒ© t·ªõi vi·ªác t·∫°o m·ªôt class v·ªõi v√†i c√°i setter ch·ª© thi·ªát b·∫£n th√¢n m√¨nh c≈©ng ch·∫£ bi·∫øt ph·∫£i code sao cho hay ƒë·ªÉ l√†m chuy·ªán t∆∞∆°ng t·ª±).</p>
<p><strong>Toogle</strong></p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> buttonClick$ <span class="token operator">=</span> <span class="token function">fromEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isShow$ <span class="token operator">=</span> buttonClick$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">scan</span><span class="token punctuation">(</span>acc <span class="token operator">=></span> <span class="token operator">!</span>acc<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

isShow$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token builtin">console</span><span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// click -> true</span>
<span class="token comment">// click -> false</span>
<span class="token comment">// click -> true</span>
<span class="token comment">// click -> false</span></code></pre></div>
<p><strong>Autocomplete with a list of items</strong></p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">fetchAnimals</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dog'</span><span class="token punctuation">,</span> <span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token string">'mouse'</span><span class="token punctuation">,</span> <span class="token string">'frog'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">fetchFruits</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'durian'</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'pineapple'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> searchTerm$ <span class="token operator">=</span> <span class="token function">fromEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'change'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> itemType$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject<span class="token operator">&lt;</span><span class="token string">'ANIMAL'</span> <span class="token operator">|</span> <span class="token string">'FRUIT'</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeFilteredItems</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  term$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">,</span>
  items$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> items$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">switchMap</span><span class="token punctuation">(</span>items <span class="token operator">=></span> term$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">map</span><span class="token punctuation">(</span>term <span class="token operator">=></span> items<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=></span> item<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>term<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// M·ªói khi item type thay ƒë·ªïi th√¨ sau 2s s·∫Ω t·∫°o ra array c√°c item </span>
<span class="token comment">// array n√†y c√≥ th·ªÉ ƒë∆∞·ª£c filter theo gi√° tr·ªã ƒë∆∞·ª£c nh·∫≠p v√†o input</span>
<span class="token comment">// N·∫øu nh·∫≠p input tr∆∞·ªõc 2s s·∫Ω kh√¥ng t√≠nh</span>
<span class="token comment">// khi ƒë·ªïi type th√¨ s·∫Ω filter l·∫°i t·ª´ ƒë√¢u (input kh√¥ng b·ªã xo√° ch·ªâ l√† kh√¥ng c√≥ hi·ªáu l·ª±c th√¥i)</span>
<span class="token keyword">const</span> result$ <span class="token operator">=</span> itemType$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">switchMap</span><span class="token punctuation">(</span>itemType <span class="token operator">=></span> <span class="token function">makeFilteredItems</span><span class="token punctuation">(</span>
    searchTerm$<span class="token punctuation">,</span>
    itemType <span class="token operator">===</span> <span class="token string">'ANIMAL'</span> <span class="token operator">?</span> <span class="token function">fetchAnimals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">fetchFruits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// --*-- ANIMAL --*--</span>
<span class="token comment">// ['dog', 'cat', 'mouse', 'frog']</span>
<span class="token comment">// ['dog', 'mouse', 'frog']</span>
<span class="token comment">// ['dog', 'frog']</span>
<span class="token comment">// ['dog', 'mouse', 'frog']</span>
<span class="token comment">// ['cat']</span>

<span class="token comment">// --*-- FRUIT --*--</span>
<span class="token comment">// ['banana', 'durian', 'apple', 'pineapple'] (t)</span>
<span class="token comment">// ['banana', 'durian', 'apple', 'pineapple'] ( )</span>
<span class="token comment">// ['apple', 'pineapple'] (ap)</span>
<span class="token comment">// ['banana', 'durian', 'apple', 'pineapple'] (a)</span>
<span class="token comment">// ['banana', 'durian', 'apple', 'pineapple'] ( )</span>
<span class="token comment">// ['banana', 'durian', 'apple', 'pineapple'] (a)</span>
<span class="token comment">// ['banana' 'durian'] (an)</span>
result$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token builtin">console</span><span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>

itemType$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'ANIMAL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// input: (sau 2s) o---og---o---t</span>
itemType$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'FRUIT'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// input (ƒëang l√† t t·ª´ l·∫ßn nh·∫≠p tr∆∞·ªõc): sau (2s) -- --ap--a-- --a--an</span></code></pre></div>
<p>Tr√™n ƒë√¢y l√† m·ªôt s·ªë v√≠ d·ª• s·ª≠ d·ª•ng <code class="language-text">rxjs</code> ƒë·ªÉ th·ª±c hi·ªán m·ªôt s·ªë vi·ªác, v·ªÅ c∆° b·∫£n b·∫•t c·ª© th·ª© g√¨ b·∫°n c≈©ng c√≥ th·ªÉ nh√©t n√≥ v√†o trong 1 <code class="language-text">Observable</code> v√† n·∫øu t·∫•t c·∫£ m·ªçi th·ª© ƒë·ªÅu l√† <code class="language-text">Observable</code> th√¨ t·∫•t c·∫£ nh·ªØng logic, nh·ªØng t√≠nh to√°n m√† b·∫°n th·ª±c hi·ªán h·∫±ng ng√†y ƒë·ªÅu s·∫Ω l√† s·ª± k·∫øt h·ª£p c·ªßa c√°c observable v√† c√°c operator.</p>
<h4>Angular First Class Observable</h4>
<p>N·∫øu nh∆∞ b·∫°n c√≥ th·ªÉ thay ƒë·ªïi mindset theo h∆∞·ªõng <code class="language-text">Reactive Programming</code>, bi·∫øn ƒë·ªïi t·∫•t c·∫£ m·ªçi th·ª© c√≥ trong m·ªôt component th√†nh d·∫°ng <code class="language-text">Observable</code> th√¨ ƒë√≥ ch√≠nh l√† pattern m√† m√≠nh g·ªçi l√† <code class="language-text">Angular First Class Observable</code>. Nghe c√≥ v·∫ª m∆° h·ªì n√™n m√¨nh s·∫Ω ƒë∆∞a ra m·ªôt s·ªë nguy√™n t·∫Øc sau:</p>
<ul>
<li>T·∫•t c·∫£ c√°c property ƒë·ªÅu ph·∫£i l√† <code class="language-text">Observable</code>.</li>
<li>S·ª≠ d·ª•ng <code class="language-text">BehaviorSubject</code> cho c√°c state c·ªßa component.</li>
<li>N·∫øu c·∫ßn handle m·ªôt event t·ª´ template, ƒë·ª´ng t·∫°o handler method h√£y d√πng <code class="language-text">Subject</code> ƒë·ªÉ th·ªÉ hi·ªÉn m·ªôt stream c√°c event c·∫ßn handle v√† subscribe v√†o subject ƒë√≥.</li>
<li>Chuy·ªÉn t·∫•t c·∫£ <code class="language-text">@Input</code> v·ªÅ d·∫°ng <code class="language-text">Observable</code>.</li>
</ul>
<p>ƒê·ªÉ ƒë∆°n gi·∫£n th√¨ m√¨nh h√£y xem qua v√≠ d·ª• n√†y nh√©.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript">@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-counter'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div>{{ $count | async }}&lt;div>
    &lt;button (click)="upBtnClick$.next()">UP&lt;/button>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CounterComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span><span class="token punctuation">,</span> OnDestroy <span class="token punctuation">{</span>
  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">get</span> <span class="token function">startValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_startValue$<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">startValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_startValue$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  count$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span>
  upBtnClick$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> _startValue$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReplaySubject<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> _step$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> _unsubscribe$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token function-variable function">_initData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_startValue$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">switchMap</span><span class="token punctuation">(</span>startValue <span class="token operator">=></span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">withLatest</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_step$<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>value<span class="token punctuation">,</span> step<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> value <span class="token operator">*</span> step <span class="token operator">+</span> startValue<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function-variable function">_initEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_upBtnClickEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_initEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">ngOnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_unsubscribe$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_unsubscribe$<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function-variable function">_upBtnClickEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>upBtnClick$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">withLatestFrom</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_step$<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">,</span> step<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>_step$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">takeUntil</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_unsubscribe$<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Component Counter trong v√≠ d·ª• tr√™n s·∫Ω hi·ªán m·ªôt s·ªë tƒÉng li√™n t·ª•c t·ª´ <code class="language-text">startValue</code> ƒë∆∞·ª£c truy·ªÅn t·ª´ input, m·ªói l·∫ßn <code class="language-text">startValue</code> thay ƒë·ªïi n√≥ s·∫Ω ƒë·∫øm l·∫°i t·ª´ gi√° tr·ªã <code class="language-text">startValue</code> m·ªõi ƒë√≥. N·∫øu click v√†o n√∫t <code class="language-text">UP</code> th√¨ gi√° tr·ªã ƒë·∫øm tƒÉng l√™n m·ªói gi√¢y s·∫Ω th√™m 1. B·∫°n c√≥ th·ªÉ th·∫•y r·∫±ng t·∫•t c·∫£ m·ªçi th·ª© m√¨nh s·ª≠ d·ª•ng ƒë·ªÅu l√† <code class="language-text">Observable</code>:</p>
<ul>
<li><code class="language-text">input starValue</code> ƒë√£ b·ªã ƒë·ªïi th√†nh <code class="language-text">_startValue$</code> b·∫±ng getter v√† setter.</li>
<li>Gi√° tr·ªã ƒë·∫øm hi·ªÉn th·ªã tr√™n UI v√† logic ƒë·ªÉ tƒÉng gi√° tr·ªã ƒë√≥ l√™n sau m·ªói gi√¢y s·∫Ω ƒë∆∞·ª£c th·ªÉ hi·ªán qua <code class="language-text">count$</code>.</li>
<li>X·ª≠ l√Ω event click c≈©ng ƒë∆∞·ª£c th·ª±c hi·ªán th√¥ng qua <code class="language-text">upBtnClick</code>.</li>
<li>D√πng <code class="language-text">_step$</code> ƒë·ªÉ l∆∞u l·∫°i state.</li>
<li>Logic update l·∫°i state m·ªói khi click c≈©ng l√† m·ªôt observable v√† ƒë∆∞·ª£c t·∫°o ra t·ª´ <code class="language-text">_upBtnClickEffect()</code>.</li>
</ul>
<p>ƒê∆°n gi·∫£n th·∫ø th√¥i, h·∫ßu nh∆∞ m·ªçi th·ª© ƒë·ªÅu c√≥ th·ªÉ ƒë∆∞·ª£c x·ª≠ l√Ω d∆∞·ªõi d·∫°ng <code class="language-text">Observable</code>, l√∫c ƒë√≥ ch√∫ng ta c√≥ th·ªÉ t·∫≠n d·ª•ng s·ª©c m·∫°nh m√† <code class="language-text">Observable</code> mang l·∫°i ƒë·ªÉ th·ª±c hi·ªán nh·ªØng logic v√¥ c√πng ph·ª©c t·∫°p nh∆∞ng code theo phong c√°ch declarative r·∫•t d·ªÖ hi·ªÉu.</p>
<p>N√≥i d√¥ng d√†i th√¨ <code class="language-text">Angular First Class Observable</code>, v√≠ d·ª• tr√™n c√≥ l·∫Ω l√† ƒë·ªß ƒë·ªÉ c√°c b·∫°n c√≥ ƒë∆∞·ª£c √Ω t∆∞·ªüng ƒë·ªÉ chuy·ªÉn m·ªçi th·ª© trong m·ªôt component th√†nh <code class="language-text">Observable</code>. Tuy nhi√™n ch·∫Øc nhi·ªÅu b·∫°n s·∫Ω th·∫•y r·∫±ng qu√° nhi·ªÅu boilerplate code. Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng <code class="language-text">decorator</code> c·∫£i thi·ªán vi·ªác n√†y.</p>
<h4>ObservableBinding Decorator</h4>
<p>Trong v√≠ d·ª• th√¨ <code class="language-text">Input</code> n√†o c√°c b·∫°n c≈©ng c√≥ th·ªÉ d√πng c√°ch n√†y ƒë·ªÉ th·ª±c hi·ªán chuy·ªÉn th√†nh observable. V·∫≠y ƒë·ªÉ ƒë·ª° ph·∫£i code l·∫∑p ƒëi l·∫∑p l·∫°i th√¨ h√£y t·∫°o m·ªôt decorator cho vi·ªác n√†y.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ReplaySubject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">ObservableBinding</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>map<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> subjectSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> object<span class="token punctuation">,</span> key<span class="token operator">:</span> PropertyKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">definedProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReplaySubject<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token builtin">symbol</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>map <span class="token operator">?</span> <span class="token function">map</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReplaySubject<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token builtin">symbol</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>subjectSymbol<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">asObservable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token builtin">symbol</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Sau ƒë√≥ thay v√¨ ƒë·ªëng get, set tr√™n th√¨ ch·ªâ c·∫ßn</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript">@<span class="token function">ObservableBinding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
@<span class="token function">Input</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span> url$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span>

@<span class="token function">ObservableBiding</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
@<span class="token function">Input</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">)</span> count$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<p>C∆° b·∫£n √Ω t∆∞·ªüng ch·ªâ c√≥ v·∫≠y, n·∫øu b·∫°n th√≠ch <code class="language-text">rxjs</code> nh∆∞ m√¨nh v√† th√≠ch d√πng n√≥ nhi·ªÅu nh·∫•t c√≥ th·ªÉ th√¨ ƒë√¢y l√† m·ªôt h∆∞·ªõng ƒëi m√† b·∫°n c√≥ th·ªÉ c√¢n nh·∫Øc. N·∫øu <code class="language-text">rxjs</code> l√† l√Ω do b·∫°n code Angular nh∆∞ m√¨nh th√¨ c√≤n ch·ªù g√¨ n·ªØa m√† kh√¥ng l√™n github cho <code class="language-text">rxjs</code> m·ªôt star s·∫µn ti·ªán unstar Angular lu√¥n üò¨</p>
<h4>Hy v·ªçng b·∫°n th·∫•y b√†i vi·∫øt n√†y b·ªï √≠ch üíï</h4></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/vi/first-class-observable-angular";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-64742d1bff844b746df5.js"],"app":["/app-68672042ae7cb9401002.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-6f03b54c21f26745ac29.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-7cd95f1abbd1d5a4844a.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx-66c6938f7d1532686151.js"]};/*]]>*/</script><script src="/next-blog/polyfill-64742d1bff844b746df5.js" nomodule=""></script><script src="/next-blog/component---src-templates-blog-post-tsx-66c6938f7d1532686151.js" async=""></script><script src="/next-blog/022d3153bf09c36cd784dcdb36ffbd187f9c96d7-8695945ca61dfd864cb3.js" async=""></script><script src="/next-blog/commons-518e58bf6a7d4015b30b.js" async=""></script><script src="/next-blog/05d954cf-c6db298c906c9c30084e.js" async=""></script><script src="/next-blog/app-68672042ae7cb9401002.js" async=""></script><script src="/next-blog/styles-755093da0c07f4b49226.js" async=""></script><script src="/next-blog/framework-8aba4025690a031b46dc.js" async=""></script><script src="/next-blog/webpack-runtime-6ce45a7ec86322bce28b.js" async=""></script></body></html>